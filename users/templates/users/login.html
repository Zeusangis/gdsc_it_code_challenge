{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <!-- Component -->
    {% if messages %}
    <ul class="messages">
      {% for message in messages %}
      <li>
        <div id="alertbox">
          <div
            class="text-white {% if message.tags == 'info' %} bg-blue-600 {% elif message.tags == 'error' %} bg-red-600 {% elif message.tags == 'success' %} bg-green-600 {% elif message.tags == 'warning' %} bg-orange-600 {% endif %} flex items-center text-sm font-bold px-4 py-3 relative"
            role="alert"
          >
            <svg
              class="fill-current w-4 h-4 mr-2"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
            >
              <path
                d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z"
              />
            </svg>
            <p>{{ message }}</p>

            <span
              class="absolute top-0 bottom-0 right-0 px-4 py-3 closealertbutton"
            >
              <svg
                class="fill-current h-6 w-6 text-white"
                role="button"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
              >
                <title>Close</title>
                <path
                  d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"
                />
              </svg>
            </span>
          </div>
        </div>
      </li>
      {% endfor %}
    </ul>
    {% endif %}

    <!-- jQuery for handling the close button -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"
      integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ="
      crossorigin="anonymous"
    ></script>

    <script>
      $(".closealertbutton").click(function (e) {
        $(this).parent().parent().hide(500); // Hides the alert on close
      });
    </script>

    <div class="bg-gray-50 font-[sans-serif]">
      <div
        class="min-h-screen flex flex-col items-center justify-center py-6 px-4"
      >
        <div class="max-w-md w-full">
          <a href="{%url "home"%}"
            ><img
              class="h-14 w-14 md:h-24 md:w-24 mx-auto mb-6"
              src="https://utfs.io/f/UwrgskiXFxlehRx9WqDn2ixgpqzCw3MaPB9FLrjshSKQOWcG"
              alt="logo"
            />
          </a>

          <div class="p-8 rounded-2xl bg-white shadow">
            <h2 class="text-gray-800 text-center text-2xl font-bold">
              Sign in
            </h2>
            <form method="POST" class="mt-8 space-y-4">
              {% csrf_token %}
              <div>
                <label class="text-gray-800 text-sm mb-2 block">Email</label>
                <div class="relative flex items-center">
                  <input
                    name="email"
                    type="text"
                    required
                    class="w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-blue-600"
                    placeholder="Enter your email"
                  />
                </div>
              </div>

              <div>
                <label class="text-gray-800 text-sm mb-2 block">Password</label>
                <div class="relative flex items-center">
                  <input
                    name="password"
                    type="password"
                    required
                    class="w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-blue-600"
                    placeholder="Enter password"
                  />
                </div>
              </div>

              <div class="!mt-8">
                <button
                  type="submit"
                  class="w-full py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-[#800000] hover:bg-[#893F45] focus:outline-none"
                >
                  Sign in
                </button>
              </div>
              <p class="text-gray-800 text-sm !mt-8 text-center">
                Don't have an account?
                <a
                  href="{% url 'register' %}"
                  class="text-[#800000] hover:underline ml-1 whitespace-nowrap font-semibold"
                  >Register here</a
                >
              </p>
            </form>
            <a href="{% url "home" %}">
              <p class="text-[#800000] text-sm text-center">
                <svg
                  class="inline-block w-4 h-4 mr-1"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 19l-7-7 7-7"
                  />
                </svg>
                <span>Back to home</span>
              </p>
            </a>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"
      integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ="
      crossorigin="anonymous"
    ></script>

    <script>
      $(".closealertbutton").click(function (e) {
        $(this).closest("#alertbox").hide(500);
      });
    </script>
  </body>
</html>
